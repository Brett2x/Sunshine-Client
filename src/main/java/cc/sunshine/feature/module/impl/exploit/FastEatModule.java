package cc.sunshine.feature.module.impl.exploit;

import cc.sunshine.eventbus.impl.PlayerUpdateEvent;
import cc.sunshine.eventbus.interfaces.Listener;
import cc.sunshine.eventbus.interfaces.SubscribeEvent;
import cc.sunshine.feature.module.AbstractModule;
import cc.sunshine.feature.module.enums.ModuleCategory;
import cc.sunshine.feature.module.interfaces.ModuleData;
import cc.sunshine.utils.packet.PacketUtil;
import net.minecraft.component.type.FoodComponent;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.network.packet.c2s.play.PlayerMoveC2SPacket;

@ModuleData(name = "Fast Eat", category = ModuleCategory.EXPLOIT)
public final class FastEatModule extends AbstractModule {
    @SubscribeEvent
    private final Listener<PlayerUpdateEvent> playerUpdateEventListener = event -> {
        if(!mc.player.isUsingItem()) {
            return;
        }

        ItemStack mainHandStack = mc.player.getMainHandStack();

        if(mainHandStack.isEmpty()) {
            return;
        }

        for (Integer i = 0; i < 5; i++) {
            PacketUtil.sendPacketNoEvent(new PlayerMoveC2SPacket.Full(mc.player.getX(), mc.player.getY(), mc.player.getZ(), mc.player.getYaw(), mc.player.getPitch(), mc.player.isOnGround()));;

        }
    };
}